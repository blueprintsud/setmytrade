<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="utf-8">
    <title>Kalkylator - SetMyTrade | Ber칛kna Stop Loss & Take Profit</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Professionell kalkylator f칬r stop loss och take profit ber칛kningar. V칛lj riskniv친 och f친 exakta niv친er f칬r dina orders." name="description">
    
    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700;900&family=Montserrat:wght@200;400;500;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root {
            --primary: #00D084;
            --dark: #0D2735;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: #E0E0E0;
            background: #0D1F2D;
            min-height: 100vh;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Roboto', sans-serif;
            font-weight: 700;
            color: #FFFFFF;
        }

        .text-primary {
            color: var(--primary) !important;
        }

        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
            color: #FFFFFF;
        }

        .btn-primary:hover {
            background-color: #00B871;
            border-color: #00B871;
        }

        /* Topbar */
        .topbar {
            background: rgba(26, 47, 61, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Navbar */
        .navbar {
            background: rgba(26, 47, 61, 0.95) !important;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .navbar .navbar-brand h1 {
            margin: 0;
            font-size: 32px;
        }

        .navbar .nav-link {
            color: #E0E0E0 !important;
            font-weight: 500;
            transition: .3s;
            padding: 25px 15px;
        }

        .navbar .nav-link:hover,
        .navbar .nav-link.active {
            color: var(--primary) !important;
        }

        /* Language Selector */
        .lang-btn {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 6px;
            padding: 8px 14px;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
            line-height: 1;
        }

        .lang-btn:hover {
            border-color: var(--primary);
            background: rgba(0, 208, 132, 0.25);
            transform: scale(1.1);
        }

        .lang-btn.active {
            border-color: var(--primary);
            background: rgba(0, 208, 132, 0.3);
            box-shadow: 0 0 20px rgba(0, 208, 132, 0.5);
        }

        /* Page Header */
        .page-header {
            background: linear-gradient(rgba(13, 39, 53, 0.95), rgba(13, 39, 53, 0.95));
            padding: 60px 0 40px 0;
            margin-bottom: 0;
        }

        /* Card */
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            background: rgba(26, 47, 61, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Form Controls */
        .form-control {
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 12px 20px;
            background: rgba(13, 31, 45, 0.5);
            color: #FFFFFF;
        }

        .form-control:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 0.2rem rgba(0, 208, 132, 0.25);
            background: rgba(13, 31, 45, 0.7);
            color: #FFFFFF;
        }

        .form-label {
            color: #E0E0E0;
            font-weight: 500;
            margin-bottom: 8px;
        }

        /* Risk Selector */
        .risk-option {
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(13, 31, 45, 0.5);
        }

        .risk-option:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 208, 132, 0.3);
        }

        .risk-option.active {
            border-color: var(--primary);
            background: rgba(0, 208, 132, 0.15);
            box-shadow: 0 0 0 4px rgba(0, 208, 132, 0.2);
        }

        .risk-label {
            font-weight: 600;
            color: #E0E0E0;
            margin-bottom: 5px;
        }

        .risk-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        /* Results */
        .results-card {
            display: none;
            background: linear-gradient(135deg, rgba(0, 208, 132, 0.05) 0%, rgba(13, 39, 53, 0.05) 100%);
            border-left: 4px solid var(--primary);
            padding: 30px;
            border-radius: 10px;
            margin-top: 30px;
        }

        .results-card.show {
            display: block;
        }

        .result-item {
            background: rgba(13, 31, 45, 0.6);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .result-label {
            color: #B0B0B0;
            font-size: 13px;
            margin-bottom: 8px;
        }

        .result-value {
            font-size: 24px;
            font-weight: 700;
            color: #FFFFFF;
        }

        .result-value.positive {
            color: var(--primary);
        }

        .result-value.negative {
            color: #FF6B6B;
        }

        /* Calendar */
        .calendar-container {
            width: 100%;
            height: 220px;
            perspective: 1000px;
            position: relative;
        }

        .calendar-card {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 1s ease;
            cursor: pointer;
        }

        .calendar-card.flipped {
            transform: rotateY(-180deg);
        }

        .calendar-back, .calendar-front {
            border-radius: 6px;
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }

        .calendar-front {
            background-color: #232227;
            text-transform: uppercase;
        }

        .calendar-back {
            transform: rotateY(180deg);
            background-color: #232227;
        }

        .contentfront {
            width: 100%;
            height: 100%;
            transform: translateZ(60px);
            display: flex;
        }

        .contentback {
            width: 100%;
            height: 100%;
            transform: translateZ(60px);
        }

        .calendar-month {
            flex: 1;
            padding: 15px 20px;
        }

        .calendar-month table {
            width: 100%;
        }

        .calendar-month th {
            width: 14%;
            font-size: 10px;
            font-weight: 400;
        }

        .orangeTr {
            color: #E76642;
        }

        .whiteTr {
            color: #ECECE7;
        }

        .whiteTr th:hover {
            color: #E76642;
            transition: .3s ease;
        }

        .calendar-date {
            height: 100%;
            width: 130px;
            background-color: #E76642;
            border-radius: 0 6px 6px 0;
            text-align: right;
            padding: 10px 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .calendar-date-content {
            transform: translateZ(60px) scale(.9);
        }

        #cal-date {
            font-size: 50px;
            color: #ECECE7;
            font-weight: 500;
            float: right;
            line-height: 1;
        }

        #cal-day {
            float: right;
            font-size: 14px;
            color: #232227;
            clear: both;
        }

        #cal-month {
            float: right;
            font-size: 10px;
            color: #232227;
        }

        .backcontainer {
            width: calc(100% - 60px);
            height: calc(100% - 40px);
            margin-left: 30px;
            margin-top: 20px;
            background-color: #E76642;
            border-radius: 6px;
            padding: 15px 20px;
            overflow-y: auto;
        }

        .sector-item-back {
            background: rgba(0, 0, 0, 0.2);
            padding: 8px 12px;
            border-radius: 4px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sector-name-back {
            color: #ECECE7;
            font-size: 12px;
            font-weight: 500;
        }

        .sector-status-back {
            font-size: 10px;
            font-weight: 700;
            padding: 3px 8px;
            border-radius: 3px;
        }

        .sector-status-back.strong {
            background: #00D084;
            color: #0D1F2D;
        }

        .sector-status-back.neutral {
            background: #FFC107;
            color: #0D1F2D;
        }

        .sector-status-back.weak {
            background: #FF6B6B;
            color: #FFFFFF;
        }

        /* Top Gainers */
        .gainers-card {
            background: rgba(26, 47, 61, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
        }

        .gainer-item {
            background: rgba(13, 31, 45, 0.5);
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 10px;
            border-left: 3px solid var(--primary);
        }

        .gainer-symbol {
            font-weight: 700;
            color: #FFFFFF;
            font-size: 14px;
        }

        .gainer-change {
            color: var(--primary);
            font-weight: 600;
            font-size: 14px;
        }

        .spinner-border-custom {
            width: 30px;
            height: 30px;
            border: 3px solid rgba(0, 208, 132, 0.2);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: inline-block;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Footer */
        .footer {
            background: var(--dark);
            color: rgba(255, 255, 255, 0.7);
            padding: 40px 0 20px 0;
        }

        .copyright {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px 0;
        }

        .footer .btn-link {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            display: block;
            padding: 5px 0;
        }

        .footer .btn-link:hover {
            color: var(--primary);
        }

        .back-to-top {
            position: fixed;
            display: none;
            right: 30px;
            bottom: 30px;
            z-index: 99;
        }
    </style>
</head>

<body>
    <!-- Topbar -->
    <div class="container-fluid topbar px-5 d-none d-lg-block">
        <div class="row gx-0 align-items-center" style="padding: 10px 0;">
            <div class="col-lg-8 text-center text-lg-start">
                <span class="small me-4" style="color: #B0B0B0;">
                    <i class="fas fa-chart-line text-primary me-2"></i>
                    <span data-lang="professionalTool">Professionell Trading Kalkylator</span>
                </span>
                <span class="small" style="color: #B0B0B0;">
                    <i class="fas fa-shield-alt text-primary me-2"></i>
                    <span data-lang="freeTool">100% Gratis Verktyg</span>
                </span>
            </div>
            <div class="col-lg-4 text-center text-lg-end">
                <div class="d-inline-flex align-items-center gap-2">
                    <button class="lang-btn active" onclick="changeLanguage('sv')">游젏릖</button>
                    <button class="lang-btn" onclick="changeLanguage('en')">游섫릖</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark px-4 px-lg-5 py-3">
        <a href="index.html" class="navbar-brand p-0">
            <h1 class="text-primary"><i class="fas fa-chart-line me-3"></i>SetMyTrade</h1>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="fa fa-bars"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto py-0">
                <a href="index.html" class="nav-item nav-link" data-lang="navHome">Hem</a>
                <a href="search.html" class="nav-item nav-link" data-lang="navSearch">S칬k Aktier</a>
                <a href="calculator.html" class="nav-item nav-link active" data-lang="navCalculator">Kalkylator</a>
                <a href="calendar.html" class="nav-item nav-link" data-lang="navCalendar">Sektor Kalender</a>
                <a href="fundamentals.html" class="nav-item nav-link" data-lang="navFundamentals">Fundamental Analys</a>
                <a href="finviz.html" class="nav-item nav-link" data-lang="navFinviz">Finviz Filter</a>
                <a href="strategies.html" class="nav-item nav-link" data-lang="navStrategies">Strategier</a>
                <a href="guides.html" class="nav-item nav-link" data-lang="navGuides">Guider</a>
            </div>
            <a href="calculator.html" class="btn btn-primary rounded-pill py-2 px-4 ms-3" data-lang="btnGetStarted">Kom Ig친ng</a>
        </div>
    </nav>

    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h1 class="display-5 text-white mb-3" data-lang="calcTitle">Ber칛kna Stop Loss & Take Profit</h1>
            <p class="text-white-50" data-lang="calcDesc">Fyll i dina v칛rden och f친 exakta niv친er f칬r dina orders</p>
        </div>
    </div>

    <!-- Calculator Section -->
    <div class="container-fluid py-5" style="background: rgba(13, 31, 45, 0.3);">
        <div class="container py-5">
            <div class="row g-5">
                <!-- Left Column - Inputs -->
                <div class="col-lg-6">
                    <div class="card p-4">
                        <h4 class="mb-4"><i class="fas fa-edit text-primary me-2"></i><span data-lang="fillDetails">Fyll i Uppgifter</span></h4>
                        
                        <div class="mb-3">
                            <label for="buyPrice" class="form-label" data-lang="buyPrice">Ink칬pspris (kr)</label>
                            <input type="number" class="form-control" id="buyPrice" step="0.01" placeholder="100.00">
                            <small class="text-muted" data-lang="buyPriceHelp">Pris per aktie/certifikat</small>
                        </div>

                        <div class="mb-3">
                            <label for="quantity" class="form-label" data-lang="quantity">Antal aktier/certifikat</label>
                            <input type="number" class="form-control" id="quantity" placeholder="100">
                            <small class="text-muted" data-lang="quantityHelp">Totalt antal som ska k칬pas</small>
                        </div>

                        <div class="mb-4">
                            <label class="form-label" data-lang="selectRisk">V칛lj Riskniv친</label>
                            <div class="row g-2">
                                <div class="col-6 col-md-4">
                                    <div class="risk-option active" onclick="selectRisk(1)">
                                        <div class="risk-label" data-lang="riskLow">L친g</div>
                                        <div class="risk-value">1%</div>
                                    </div>
                                </div>
                                <div class="col-6 col-md-4">
                                    <div class="risk-option" onclick="selectRisk(2)">
                                        <div class="risk-label" data-lang="riskModerate">M친ttlig</div>
                                        <div class="risk-value">2%</div>
                                    </div>
                                </div>
                                <div class="col-6 col-md-4">
                                    <div class="risk-option" onclick="selectRisk(3)">
                                        <div class="risk-label" data-lang="riskMedium">Medium</div>
                                        <div class="risk-value">3%</div>
                                    </div>
                                </div>
                                <div class="col-6 col-md-6">
                                    <div class="risk-option" onclick="selectRisk(4)">
                                        <div class="risk-label" data-lang="riskHigh">H칬g</div>
                                        <div class="risk-value">4%</div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6">
                                    <div class="risk-option" onclick="selectRisk(5)">
                                        <div class="risk-label" data-lang="riskVeryHigh">Mycket H칬g</div>
                                        <div class="risk-value">5%</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary w-100 py-3" onclick="calculate()">
                            <i class="fas fa-calculator me-2"></i><span data-lang="btnCalculate">Ber칛kna Niv친er</span>
                        </button>
                    </div>
                </div>

                <!-- Right Column - Calendar & Top Gainers -->
                <div class="col-lg-6">
                    <!-- Parallax Calendar -->
                    <div class="card p-4 mb-4">
                        <h4 class="mb-3"><i class="fas fa-calendar-alt text-primary me-2"></i><span data-lang="sectorCalendar">Sektor Kalender</span></h4>
                        <div class="calendar-container">
                            <div class="calendar-card" id="calendarCard" onclick="this.classList.toggle('flipped')">
                                <div class="calendar-front">
                                    <div class="contentfront">
                                        <div class="calendar-month">
                                            <table>
                                                <tr class="orangeTr">
                                                    <th>M</th><th>T</th><th>W</th><th>T</th><th>F</th><th>S</th><th>S</th>
                                                </tr>
                                                <tr class="whiteTr">
                                                    <th></th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th>
                                                </tr>
                                                <tr class="whiteTr">
                                                    <th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th><th>13</th>
                                                </tr>
                                                <tr class="whiteTr">
                                                    <th>14</th><th>15</th><th>16</th><th>17</th><th>18</th><th>19</th><th>20</th>
                                                </tr>
                                                <tr class="whiteTr">
                                                    <th>21</th><th>22</th><th>23</th><th>24</th><th>25</th><th>26</th><th>27</th>
                                                </tr>
                                                <tr class="whiteTr">
                                                    <th>28</th><th>29</th><th>30</th><th>31</th><th></th><th></th><th></th>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="calendar-date">
                                            <div class="calendar-date-content">
                                                <div id="cal-date">4</div>
                                                <div id="cal-day">Saturday</div>
                                                <div id="cal-month">Jan/2026</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-back">
                                    <div class="contentback">
                                        <div class="backcontainer">
                                            <h6 style="color: #ECECE7; margin-bottom: 12px; font-size: 12px; text-align: center;">AKTIVA SEKTORER</h6>
                                            <div class="sector-item-back">
                                                <span class="sector-name-back" data-lang="technology">Teknologi</span>
                                                <span class="sector-status-back strong" data-lang="strong">STARK</span>
                                            </div>
                                            <div class="sector-item-back">
                                                <span class="sector-name-back" data-lang="energy">Energi</span>
                                                <span class="sector-status-back strong" data-lang="strong">STARK</span>
                                            </div>
                                            <div class="sector-item-back">
                                                <span class="sector-name-back" data-lang="healthcare">H칛lsov친rd</span>
                                                <span class="sector-status-back neutral" data-lang="neutral">NEUTRAL</span>
                                            </div>
                                            <div class="sector-item-back">
                                                <span class="sector-name-back" data-lang="finance">Finans</span>
                                                <span class="sector-status-back weak" data-lang="weak">SVAG</span>
                                            </div>
                                            <div class="sector-item-back">
                                                <span class="sector-name-back" data-lang="consumer">Konsument</span>
                                                <span class="sector-status-back neutral" data-lang="neutral">NEUTRAL</span>
                                            </div>
                                            <div class="sector-item-back">
                                                <span class="sector-name-back" data-lang="industrials">Industri</span>
                                                <span class="sector-status-back strong" data-lang="strong">STARK</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="text-center mt-2 mb-0" style="font-size: 11px; color: #B0B0B0;">Klicka f칬r att visa sektorer</p>
                    </div>

                    <!-- Top Gainers -->
                    <div class="gainers-card">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5 class="mb-0"><i class="fas fa-chart-line text-primary me-2"></i><span data-lang="topGainers">St칬rsta Vinnare</span></h5>
                            <button class="btn btn-sm btn-primary" onclick="loadTopGainers()">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <div id="topGainersList">
                            <div class="text-center py-3">
                                <div class="spinner-border-custom"></div>
                                <p class="mt-2 text-muted" style="font-size: 13px;" data-lang="loadingGainers">Laddar st칬rsta vinnare...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Row -->
            <div class="row g-5 mt-1">
                <div class="col-lg-12">
                    <div id="results" class="results-card">
                        <h4 class="mb-4"><i class="fas fa-chart-bar text-primary me-2"></i><span data-lang="calculatedLevels">Ber칛knade Niv친er</span></h4>
                        
                        <div class="row g-3">
                            <div class="col-md-6 col-lg-3">
                                <div class="result-item">
                                    <div class="result-label" data-lang="totalInvestment">Total Investering</div>
                                    <div class="result-value" id="totalInvestment">0 kr</div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="result-item">
                                    <div class="result-label" data-lang="riskReward">Risk/Reward</div>
                                    <div class="result-value" id="ratio">1:0</div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="result-item">
                                    <div class="result-label" data-lang="slTrigger">SL Trigger</div>
                                    <div class="result-value negative" id="slTrigger">0 kr</div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="result-item">
                                    <div class="result-label" data-lang="slLimit">SL Limit</div>
                                    <div class="result-value negative" id="slLimit">0 kr</div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="result-item">
                                    <div class="result-label" data-lang="maxLoss">Max F칬rlust</div>
                                    <div class="result-value negative" id="maxLoss">0 kr</div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="result-item">
                                    <div class="result-label" data-lang="tpLimit">TP Limit</div>
                                    <div class="result-value positive" id="tpLimit">0 kr</div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="result-item">
                                    <div class="result-label" data-lang="maxProfit">Max Vinst</div>
                                    <div class="result-value positive" id="maxProfit">0 kr</div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="result-item">
                                    <div class="result-label">Info</div>
                                    <div class="result-value">
                                        <a href="guides.html" class="text-white" style="text-decoration: none;">
                                            <i class="fas fa-book"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="container-fluid footer py-5">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-md-6 col-lg-4">
                    <h4 class="text-white mb-4"><i class="fas fa-chart-line me-3"></i>SetMyTrade</h4>
                    <p class="text-white-50">Professional Stop Loss & Take Profit calculator for serious traders. 100% free tool.</p>
                </div>
                <div class="col-md-6 col-lg-4">
                    <h4 class="text-white mb-4" data-lang="quickLinks">Snabbl칛nkar</h4>
                    <a href="index.html" class="btn btn-link" data-lang="navHome">Hem</a>
                    <a href="search.html" class="btn btn-link" data-lang="navSearch">S칬k Aktier</a>
                    <a href="calculator.html" class="btn btn-link" data-lang="navCalculator">Kalkylator</a>
                    <a href="calendar.html" class="nav-item nav-link" data-lang="navCalendar">Sektor Kalender</a>
                <a href="finviz.html" class="btn btn-link" data-lang="navFinviz">Finviz Filter</a>
                    <a href="strategies.html" class="btn btn-link" data-lang="navStrategies">Strategier</a>
                    <a href="guides.html" class="btn btn-link" data-lang="navGuides">Guider</a>
                </div>
                <div class="col-md-6 col-lg-4">
                    <h4 class="text-white mb-4" data-lang="information">Information</h4>
                    <p class="text-white-50"><i class="fas fa-shield-alt text-primary me-2"></i><span data-lang="freeTool2">100% Gratis</span></p>
                    <p class="text-white-50"><i class="fas fa-calculator text-primary me-2"></i><span data-lang="exactCalc">Exakta Ber칛kningar</span></p>
                    <p class="text-white-50"><i class="fas fa-chart-line text-primary me-2"></i><span data-lang="provenStrategies">Proven Strategier</span></p>
                    <h5 class="text-white mb-3 mt-4"><i class="fas fa-exclamation-triangle text-warning me-2"></i><span data-lang="important">Viktigt</span></h5>
                    <a href="disclaimer.html" class="btn btn-link text-warning ps-0"><i class="fas fa-file-contract me-2"></i><span data-lang="readDisclaimer">L칛s Ansvarsbegr칛nsning</span></a>
                </div>
            </div>
        </div>
    </div>

    <!-- Copyright -->
    <div class="container-fluid copyright py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6 text-center text-md-start">
                    <span class="text-body">SetMyTrade 2026. All rights reserved.</span>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <span class="text-body">Built for traders worldwide</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Back to Top -->
    <a href="#" class="btn btn-primary btn-lg-square rounded-circle back-to-top"><i class="fa fa-arrow-up"></i></a>

    <!-- JavaScript -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        let currentLanguage = 'sv';
        let selectedRisk = 1;

        const translations = {
            sv: {
                professionalTool: "Professionell Trading Kalkylator",
                freeTool: "100% Gratis Verktyg",
                navHome: "Hem",
                navSearch: "S칬k Aktier",
                navCalculator: "Kalkylator",
                navFinviz: "Finviz Filter",
                navCalendar: "Sektor Kalender",
                navStrategies: "Strategier",
                navGuides: "Guider",
                btnGetStarted: "Kom Ig친ng",
                calcTitle: "Ber칛kna Stop Loss & Take Profit",
                calcDesc: "Fyll i dina v칛rden och f친 exakta niv친er f칬r dina orders",
                fillDetails: "Fyll i Uppgifter",
                buyPrice: "Ink칬pspris (kr)",
                buyPriceHelp: "Pris per aktie/certifikat",
                quantity: "Antal aktier/certifikat",
                quantityHelp: "Totalt antal som ska k칬pas",
                selectRisk: "V칛lj Riskniv친",
                riskLow: "L친g",
                riskModerate: "M친ttlig",
                riskMedium: "Medium",
                riskHigh: "H칬g",
                riskVeryHigh: "Mycket H칬g",
                btnCalculate: "Ber칛kna Niv친er",
                sectorCalendar: "Sektor Kalender",
                technology: "Teknologi",
                energy: "Energi",
                healthcare: "H칛lsov친rd",
                finance: "Finans",
                consumer: "Konsument",
                industrials: "Industri",
                strong: "STARK",
                neutral: "NEUTRAL",
                weak: "SVAG",
                topGainers: "St칬rsta Vinnare",
                loadingGainers: "Laddar st칬rsta vinnare...",
                calculatedLevels: "Ber칛knade Niv친er",
                totalInvestment: "Total Investering",
                riskReward: "Risk/Reward",
                slTrigger: "SL Trigger",
                slLimit: "SL Limit",
                maxLoss: "Max F칬rlust",
                tpLimit: "TP Limit",
                maxProfit: "Max Vinst",
                fillPriceQty: "Fyll i Ink칬pspris och Antal",
                quickLinks: "Snabbl칛nkar",
                information: "Information",
                freeTool2: "100% Gratis",
                exactCalc: "Exakta Ber칛kningar",
                important: "Viktigt",
                readDisclaimer: "L칛s Ansvarsbegr칛nsning",
                provenStrategies: "Proven Strategier"
            },
            en: {
                professionalTool: "Professional Trading Calculator",
                freeTool: "100% Free Tool",
                navHome: "Home",
                navSearch: "Search Stocks",
                navCalculator: "Calculator",
                navFinviz: "Finviz Filters",
                navCalendar: "Sector Calendar",
                navStrategies: "Strategies",
                navGuides: "Guides",
                btnGetStarted: "Get Started",
                calcTitle: "Calculate Stop Loss & Take Profit",
                calcDesc: "Fill in your values and get exact levels for your orders",
                fillDetails: "Fill in Details",
                buyPrice: "Buy Price",
                buyPriceHelp: "Price per share",
                quantity: "Quantity",
                quantityHelp: "Total number to buy",
                selectRisk: "Select Risk Level",
                riskLow: "Low",
                riskModerate: "Moderate",
                riskMedium: "Medium",
                riskHigh: "High",
                riskVeryHigh: "Very High",
                btnCalculate: "Calculate Levels",
                sectorCalendar: "Sector Calendar",
                technology: "Technology",
                energy: "Energy",
                healthcare: "Healthcare",
                finance: "Finance",
                consumer: "Consumer",
                industrials: "Industrials",
                strong: "STRONG",
                neutral: "NEUTRAL",
                weak: "WEAK",
                topGainers: "Top Gainers",
                loadingGainers: "Loading top gainers...",
                calculatedLevels: "Calculated Levels",
                totalInvestment: "Total Investment",
                riskReward: "Risk/Reward",
                slTrigger: "SL Trigger",
                slLimit: "SL Limit",
                maxLoss: "Max Loss",
                tpLimit: "TP Limit",
                maxProfit: "Max Profit",
                fillPriceQty: "Fill in Buy Price and Quantity",
                quickLinks: "Quick Links",
                information: "Information",
                freeTool2: "100% Free",
                exactCalc: "Exact Calculations",
                important: "Important",
                readDisclaimer: "Read Disclaimer",
                provenStrategies: "Proven Strategies"
            }
        };

        function changeLanguage(lang) {
            currentLanguage = lang;
            document.querySelectorAll('[data-lang]').forEach(element => {
                const key = element.getAttribute('data-lang');
                if (translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            // Removed event.target - using loop instead('active');
        }

        function selectRisk(level) {
            selectedRisk = level;
            document.querySelectorAll('.risk-option').forEach(option => {
                option.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
        }

        function calculate() {
            const buyPrice = parseFloat(document.getElementById('buyPrice').value);
            const quantity = parseInt(document.getElementById('quantity').value);
            
            if (!buyPrice || !quantity) {
                alert(translations[currentLanguage].fillPriceQty);
                return;
            }

            const totalInvestment = buyPrice * quantity;
            const riskPercent = selectedRisk;
            const maxLossAmount = totalInvestment * (riskPercent / 100);
            
            const slTrigger = buyPrice * (1 - (riskPercent / 100));
            const slLimit = slTrigger * 0.995;
            const tpLimit = buyPrice * (1 + (riskPercent * 2 / 100));
            const maxProfit = (tpLimit - buyPrice) * quantity;

            document.getElementById('totalInvestment').textContent = totalInvestment.toFixed(2) + ' kr';
            document.getElementById('ratio').textContent = '1:' + (riskPercent * 2);
            document.getElementById('slTrigger').textContent = slTrigger.toFixed(2) + ' kr';
            document.getElementById('slLimit').textContent = slLimit.toFixed(2) + ' kr';
            document.getElementById('maxLoss').textContent = maxLossAmount.toFixed(2) + ' kr';
            document.getElementById('tpLimit').textContent = tpLimit.toFixed(2) + ' kr';
            document.getElementById('maxProfit').textContent = maxProfit.toFixed(2) + ' kr';

            document.getElementById('results').classList.add('show');
            document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        async function loadTopGainers() {
            const apiKey = 'LHBGOUL4ZLHCV9PW';
            const url = `https://www.alphavantage.co/query?function=TOP_GAINERS_LOSERS&apikey=${apiKey}`;
            const proxyUrl = 'https://api.allorigins.win/raw?url=';
            
            // Fallback data in case API fails or is rate limited
            const fallbackGainers = [
                { ticker: 'NVDA', change_percentage: '+5.23%' },
                { ticker: 'TSLA', change_percentage: '+4.87%' },
                { ticker: 'AAPL', change_percentage: '+3.45%' },
                { ticker: 'MSFT', change_percentage: '+2.91%' },
                { ticker: 'AMD', change_percentage: '+2.67%' }
            ];
            
            try {
                const response = await fetch(proxyUrl + encodeURIComponent(url));
                const data = await response.json();
                
                let gainers = fallbackGainers;
                
                if (data.top_gainers && data.top_gainers.length > 0) {
                    gainers = data.top_gainers.slice(0, 5);
                }
                
                let html = '';
                gainers.forEach(gainer => {
                    const changePercent = typeof gainer.change_percentage === 'string' 
                        ? parseFloat(gainer.change_percentage.replace('%', ''))
                        : gainer.change_percentage;
                    
                    html += `
                        <div class="gainer-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="gainer-symbol">${gainer.ticker}</span>
                                <span class="gainer-change">+${Math.abs(changePercent).toFixed(2)}%</span>
                            </div>
                        </div>
                    `;
                });
                
                document.getElementById('topGainersList').innerHTML = html;
            } catch (error) {
                console.error('Error loading top gainers:', error);
                
                // Use fallback data
                let html = '';
                fallbackGainers.forEach(gainer => {
                    const changePercent = parseFloat(gainer.change_percentage.replace('%', '').replace('+', ''));
                    html += `
                        <div class="gainer-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="gainer-symbol">${gainer.ticker}</span>
                                <span class="gainer-change">+${changePercent.toFixed(2)}%</span>
                            </div>
                        </div>
                    `;
                });
                
                document.getElementById('topGainersList').innerHTML = html;
            }
        }

        loadTopGainers();

        $(window).scroll(function () {
            if ($(this).scrollTop() > 300) {
                $('.back-to-top').fadeIn('slow');
            } else {
                $('.back-to-top').fadeOut('slow');
            }
        });
        
        $('.back-to-top').click(function () {
            $('html, body').animate({scrollTop: 0}, 1500);
            return false;
        });
    </script>
</body>
</html>
